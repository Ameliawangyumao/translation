# 技术债务

## 定义

技术债务，在软件开发中的定义有点类似于现实世界的经济债务，指的是维护源代码的成本，这些成本主要是由偏离了联合（joint ）开发的主分支引起的。其实，这个词在专有代码中有着更为广泛的解释：

* 由单一的组织所开发
* 源代码的服务和维护主要由这家组织自个承担
* 在某些情况下，组织依赖于合作伙伴维护代码并承担所述债务的能力。

这里需要先澄清一个事实，上游代码也会有技术债务的，尤其是当上游项目没有资源/时间通过其开发人员共同体进行自我维护时，这样的情况是有很好的案例的，例如 OpenSSL 项目，很多公司都严重依赖于这个项目，但是并没有亲力亲为的参与到这个项目，然而当出了问题时才发现这么重要的项目竟然是仅仅只有一个人在业余时间进行维护。当然，由于正是这个案例的发生，促使 Linux 基金会发起了 Core Infrastructure Initiative ，以支持至关重要的现代核心基础设施开源项目。

## 技术债务的外在表现

我们通常是如何识别哪些技术债务的？它们有什么明显的表现吗？在这个小节中，笔者根据自身的经验，就将这些技术债务一一列出，并将它们的外在表现描述一番。以下所列并没有覆盖所有技术债务相关的详尽清单，而是笔者认为的最为常见的，也是被很多人所观察到的技术债务外在表现。

* **较慢的发布节奏** 新的功能交付周期变长。
* **新人参与的时间变久** ：首要的表现是新来的开发者非常难以参与到项目中，而只有内部开发人员熟悉代码的复杂性；第二种表现则是，老员工留不住，又招不来新员工。
* **安全方面的问题增加**：相比于上游项目，遇到了更多的安全问题。
* **投入代码库的力度加大**：随着要维护的代码体量变得更大、更复杂，维护任务变得更加耗时。
* **与上游渐行渐远**：无法与上游开发、发布周期保持同步和一致。

## 技术债务的类型

（有关开源的）技术债务类型，并没有一个标准，或者形成普遍的共识，当然也就没有现成的定义，这个任务需要我们自己来完成。

### 临时技术债务

这里假设是一个正在正在开发的团队，基于上游开源项目做一些研究，可能涉及多个组件、多个系统/子系统等复杂的功能。随着项目的进度，开始有了一些没有和上游进行整合的技术债务，此时，团队里的人也意识到了这些，也明白自己已经欠了债务，然而，由于赶着上市，团队最终的决策是先将这些债务暂时搁置一旁，不予理会，并承诺在将来再去做和上游合并的事。

### 未知的技术债务

由于不良的工程实践，在无形中产生的技术债务。这样的情况常见的例子：一段糟糕的代码并没有被上游接受，甚至也不适合在其它地方重复利用。那么这段代码就成了“弃之可惜，食之无味”的债务。

### 有目的的欠下了技术债务

更多的情况是开发者自己有意为之的。常见的情形是：一个开发团队基于上游项目开发了自己认为先进而独特的功能，然而并不想和上游以及整个开源共同体分享，于是，他们创建了自己的分支，而拒绝和上游合并。随着时间的推移，自行开发的fork版本也会不断累积，这就导致了更多的技术债务，相应的维护成本也在不断的增加。

### 过时的技术债务

这是一种较为独特的技术债务类型，主要是由于强调“自主可控”的执念，以及不想让更多人知道自己的开发所导致。 由于自身的封闭，以及缺乏技术监督，最后只有自己一家在使用这项实现。然而，开源世界在不断的迭代和进化，并优雅的解决了问题并成为了事实上的标准，但是和内部实现并不兼容。这种情况就是发展过时的技术债务的来由。

### 组织技术债务

人们经常会讨论的一个话题是一家企业的代码和这家企业的组织是高度相关的（康威定律——译者注），这是一个非常有意思的现象。

在某些情况下，尤其是利用开源，会出现一些代码企业内无人理解，也无人能修改和debug的情况，然而这些代码也是没有人负责的，没有人愿意为这些代码负责到底。

当出现人员和代码不相匹配的情况时，请小心，说明这家企业已经欠下了技术债务。

## 引起技术债务的几个原因


## 总结